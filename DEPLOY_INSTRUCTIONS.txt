================================================================================
ANDCORP AUTOS - DEPLOYMENT INSTRUCTIONS
================================================================================

STEP 1: PREPARE FILES
----------------------
Run the deployment script (if available):
    ./deploy.sh

Or manually prepare:
    - Ensure config/database.php is ready with production credentials
    - Remove all debug/test files
    - Create uploads/ directories


STEP 2: UPDATE DATABASE CONFIGURATION
--------------------------------------
Edit: config/database.php

Update these values with your Namecheap cPanel database credentials:
    'host' => 'localhost',
    'database' => 'your_cpanel_database_name',      (e.g., cpses_username_andcorp)
    'username' => 'your_cpanel_database_user',      (e.g., cpses_username_dbuser)
    'password' => 'your_database_password',


STEP 3: UPLOAD FILES TO SERVER
-------------------------------
Using cPanel File Manager:
    1. Log into cPanel
    2. Go to "File Manager"
    3. Navigate to public_html (or your domain root)
    4. Upload Andcorp-test_deploy.zip (if using deploy script)
    5. Extract the ZIP file
    6. OR upload all files maintaining directory structure

Using FTP/SFTP:
    1. Connect using FTP credentials from cPanel
    2. Upload all files from deploy_package/ directory
    3. Maintain exact directory structure


STEP 4: SET FILE PERMISSIONS
-----------------------------
In cPanel File Manager or via SSH:
    
    Folders: 755
    Files: 644
    Upload directories: 755 (must be writable)

Upload directories to create and set permissions:
    uploads/
    uploads/cars/
    uploads/documents/
    uploads/deposit_slips/


STEP 5: CREATE DATABASE
------------------------
In cPanel:
    1. Go to "MySQL Databases"
    2. Create new database (e.g., andcorp_db)
    3. Create database user
    4. Assign user to database with ALL PRIVILEGES
    5. Note down: database name, username, password


STEP 6: IMPORT DATABASE SCHEMA
-------------------------------
In cPanel:
    1. Go to "phpMyAdmin"
    2. Select your database
    3. Click "Import" tab
    4. Choose file: database/schema.sql
    5. Click "Go"


STEP 7: RUN ADDITIONAL MIGRATIONS (if needed)
----------------------------------------------
In phpMyAdmin, run these SQL files:
    - database/email_notification_settings.sql
    - database/add_evidence_of_delivery.sql
    - database/fix_status_enum.sql (only if needed)


STEP 8: CONFIGURE DOCUMENT ROOT (RECOMMENDED)
----------------------------------------------
Option 1: Point document root to public/ folder
    1. In cPanel, go to "Subdomains" or "Addon Domains"
    2. Edit your domain/subdomain
    3. Set document root to: /home/username/public_html/Andcorp-test/public
    4. URLs will be: https://app.andcorpautos.com/

Option 2: Keep as is
    - URLs will be: https://app.andcorpautos.com/public/
    - No configuration needed


STEP 9: TEST APPLICATION
-------------------------
1. Visit your domain
2. Test login functionality
3. Check all pages load correctly
4. Test file uploads
5. Check error logs in cPanel if issues occur


STEP 10: POST-DEPLOYMENT
-------------------------
1. Remove any debug files (if present):
   - public/admin/debug_*.php
   - public/admin/check_*.php

2. Set up backups in cPanel:
   - Schedule regular database backups
   - Backup uploads folder regularly

3. Configure email settings:
   - Go to Admin Panel → Settings
   - Configure email notification settings

4. Security:
   - Change default admin password
   - Verify file permissions are correct
   - Ensure HTTPS/SSL is enabled


TROUBLESHOOTING
---------------

Database Connection Error:
    - Verify credentials in config/database.php
    - Check database host (usually localhost)
    - Ensure database user has proper permissions
    - Verify database name format (includes cPanel username prefix)

URLs Not Working:
    - Check .htaccess file exists in public/ folder
    - Verify mod_rewrite is enabled
    - Check document root configuration

File Upload Not Working:
    - Check uploads/ folders exist and have 755 permissions
    - Verify PHP upload limits in cPanel
    - Check error logs

404 Errors:
    - Verify document root points to public/ folder
    - Check .htaccess file is present
    - Review error logs in cPanel


IMPORTANT FILES
---------------
- config/database.php          → Database configuration (UPDATE!)
- database/schema.sql          → Database schema (IMPORT THIS!)
- public/.htaccess             → URL rewriting and security
- DEPLOYMENT.md                → Full deployment guide
- QUICK_DEPLOY.md              → Quick reference
- PRODUCTION_CHECKLIST.md      → Deployment checklist


SUPPORT
-------
- Full guide: DEPLOYMENT.md
- Quick guide: QUICK_DEPLOY.md
- Checklist: PRODUCTION_CHECKLIST.md
- Check cPanel Error Log for specific errors

================================================================================

